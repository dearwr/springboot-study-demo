package com.example.demo.utils;

import com.example.demo.pack.CmdType;
import com.example.demo.pack.MessageBody;
import com.example.demo.pack.MessageHeader;
import org.jboss.netty.channel.ChannelHandlerContext;

/**
 * Created by wangrong 2020/4/2
 */
public class JbossMsgHelper {

    public static void createConnect(MessageHeader messageHeader, ChannelHandlerContext ctx) {
        MessageBody msgBody = new MessageBody(StringUtils.generateMessageId(), JsonUtils.toJson("success"));
        messageHeader = new MessageHeader(CmdType.CONNECT_ACK, JsonUtils.toJson(msgBody));
        ctx.getChannel().write(messageHeader);
    }

    public static void syncNewOrder(MessageHeader messageHeader, ChannelHandlerContext ctx) {
        String orderStr = "{\"hqCode\":\"flipos\",\"kitchenStatus\":\"COMPLETE\",\"payment\":\"CASH\",\"isCanNotGetInvoice\":false,\"passDishReceiptPrintCount\":0,\"clearTableRemark\":\"\",\"discount\":\"1\",\"onCreditDiscountPrice\":\"0\",\"status\":\"COMPLETE\",\"lockOrderNo\":false,\"lastRemindTime\":\"\",\"consumerNum\":1,\"_viewItemStatusCount\":[],\"location\":\"RESTAURANT\",\"isPrinted\":false,\"_viewFinalPrice\":0,\"voucherPrice\":\"0\",\"count\":\"2\",\"addTime\":\"2020-03-30 17:44:29\",\"seq\":\"6240001\",\"upload\":\"SUCCESS\",\"lockOrderDish\":false,\"additionalFee\":\"0\",\"_benefitExceptGift\":\"0\",\"salutation\":{\"hqId\":-1,\"name\":\"\",\"id\":-1},\"vipPoint\":\"0\",\"_discountablePrice\":\"0\",\"additionalFeeType\":\"Amount\",\"kitchenReceiptPrintCount\":0,\"remark\":\"\",\"platform\":\"IPAD_POS\",\"operationFlowNo\":\"\",\"_unDiscountablePrice\":\"0\",\"customerReceiptPrintCount\":0,\"childOrders\":[],\"deliverTime\":\"\",\"completeItemsCount\":0,\"_originalPrice\":\"0\",\"itemsTotalBenefitPrice\":\"0\",\"orderNo\":\"019979220033017442934156240001\",\"smallChange\":\"0\",\"discountPrice\":\"0\",\"hqId\":199,\"grade\":\"1007\",\"paySuccessTime\":\"\",\"additionalFeeAmount\":\"0\",\"items\":[{\"chargingThreshold\":0,\"isHalf\":false,\"orderVoucherAmount\":\"0\",\"categoryId\":-101,\"wholeDiscountable\":true,\"isSetItem\":false,\"orderVipPointAmount\":\"0\",\"setPrice\":\"0\",\"percentAmount\":\"2\",\"displaySets\":[],\"dish\":{\"imgPath\":\"default\",\"desc\":\"\",\"discountInWhole\":true,\"hidden\":false,\"chargingThreshold\":0,\"recommend\":false,\"id\":486361,\"chargingThresholdUnit\":\"\",\"soldRules\":[],\"name\":\"DOU1\",\"price\":\"10\",\"interName\":\"\",\"collect\":false,\"pinyin\":\"D\",\"code\":\"\",\"labels\":[],\"priceType\":\"STEADY\",\"chargingByTime\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"interNames\":[],\"bgColor\":16759296,\"show\":true,\"kdsName\":\"\",\"shortName\":\"\",\"displayGroupId\":-1,\"soldOut\":false},\"failKitchenInfo\":[],\"discounts\":[{\"productFlag\":0,\"specNotFree\":false,\"productList\":[],\"validateTime\":\"2020-03-23 00:00:00.000\",\"name\":\"没别的意思\",\"isTmp\":false,\"desc\":\"\",\"discountRange\":\"BOTH\",\"type\":\"PERCENT\",\"bgColor\":16759296,\"products\":[],\"branchFlag\":0,\"cost\":\"0\",\"branchList\":[],\"category\":\"NORMAL\",\"isGiftCardCoupon\":false,\"id\":4224,\"val\":\"0.9\",\"invalidateTime\":\"2020-03-31 23:59:59.000\",\"favorNotFree\":false,\"code\":\"\",\"remark\":\"\",\"isRepeated\":false,\"optionList\":[]}],\"giftCouponCode\":\"\",\"callUpTime\":0,\"convertAmount\":\"0\",\"dishGroupName\":\"\",\"chargingThresholdUnit\":\"\",\"count\":\"1\",\"name\":\"DOU1\",\"isInPromotion\":false,\"convertCount\":0,\"setDefaultItem\":false,\"singlePrice\":\"20\",\"percentVal\":\"0.9\",\"chargingByTime\":false,\"refundRemark\":\"\",\"refundCount\":\"0\",\"dishId\":486361,\"options\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"remark\":\"\",\"id\":-1,\"floatingPrice\":\"10\",\"amount\":\"1\",\"smallchange\":\"0\",\"orderPercentAmount\":\"0\",\"gift\":\"NO_GIFT\",\"voucherAmount\":\"0\",\"orderVipLevelDiscountAmount\":\"0\",\"purpose\":\"ORDER_MEAL\",\"price\":\"10\",\"uuid\":\"019979203301744192846240000000027\",\"isChild\":false,\"priceType\":\"STEADY\",\"addTime\":\"2020-03-30 17:44:19\",\"displayGroupId\":-1,\"discountInWhole\":true,\"voucherVal\":\"0\",\"displayOptions\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"countByTime\":\"1\"},{\"voucherVal\":\"0\",\"isSetItem\":false,\"id\":-1,\"refundCount\":\"0\",\"dishId\":38427,\"setPrice\":\"0\",\"amount\":\"1\",\"priceType\":\"STEADY\",\"isInPromotion\":false,\"chargingThreshold\":0,\"purpose\":\"ORDER_MEAL\",\"displayOptions\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}],\"count\":\"1\",\"wholeDiscountable\":false,\"orderPercentAmount\":\"0\",\"addTime\":\"2020-03-30 17:44:23\",\"giftCouponCode\":\"\",\"remark\":\"\",\"smallchange\":\"0\",\"isChild\":false,\"floatingPrice\":\"240\",\"chargingByTime\":false,\"name\":\"半筋半肉面\",\"uuid\":\"019979203301744231256240000000028\",\"voucherAmount\":\"0\",\"orderVipPointAmount\":\"0\",\"displaySets\":[],\"price\":\"240\",\"displayGroupId\":468,\"failKitchenInfo\":[],\"singlePrice\":\"251\",\"setDefaultItem\":false,\"chargingThresholdUnit\":\"\",\"discountInWhole\":false,\"refundRemark\":\"\",\"convertAmount\":\"0\",\"dish\":{\"interName\":\"\",\"recommend\":false,\"id\":38427,\"discountInWhole\":false,\"price\":\"240\",\"chargingThresholdUnit\":\"\",\"interNames\":[],\"priceType\":\"STEADY\",\"hidden\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"pinyin\":\"bjbrm\",\"show\":true,\"bgColor\":16759296,\"shortName\":\"\",\"collect\":false,\"soldRules\":[],\"displayGroupId\":468,\"chargingThreshold\":0,\"chargingByTime\":false,\"kdsName\":\"\",\"code\":\"\",\"soldOut\":false,\"name\":\"半筋半肉面\",\"desc\":\"\",\"imgPath\":\"default\",\"labels\":[]},\"orderVipLevelDiscountAmount\":\"0\",\"dishGroupName\":\"\",\"callUpTime\":0,\"convertCount\":0,\"orderVoucherAmount\":\"0\",\"percentVal\":\"1\",\"discounts\":[],\"countByTime\":\"1\",\"isHalf\":false,\"gift\":\"NO_GIFT\",\"categoryId\":-101,\"percentAmount\":\"0\",\"options\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}]}],\"simplePrintMode\":false,\"id\":1,\"updateTime\":\"2020-03-30 17:44:29\",\"tableKey\":\"\",\"orderOperations\":[],\"waitCallNo\":\"\",\"vipPointPrice\":\"0\",\"branchId\":792,\"userName\":\"\",\"isGift\":\"NO_GIFT\",\"rootOrderNo\":\"019979220033017442934156240001\",\"pay5iComplete\":false,\"unHandleMsg\":\"\",\"consumeAuthCode\":\"\",\"kitchenDeviceName\":\"2c:fd:ab:14:8c:ec\\/\",\"hasChildren\":false,\"vouchers\":\"0\",\"payInfos\":[{\"flow\":\"79220033017442933656240001\",\"onCreditAmount\":0,\"chargeAmount\":\"0\",\"payment\":\"CASH\",\"payAmount\":\"269\",\"status\":\"SUCCESS\",\"receivedAmount\":\"269\"}],\"lastName\":\"\",\"_viewItemCount\":0,\"version\":\"5.0.0\",\"payKey\":\"\",\"orderSourceType\":\"STORE\",\"needOpenTable\":false,\"rootable\":true,\"levelDiscountPrice\":\"0\",\"_giftAmount\":\"0\",\"gradeVersion\":0,\"sync\":\"UNNEED\",\"userId\":3861,\"discounts\":[],\"scene\":\"PREPAY\"}";
        MessageBody msgBody = new MessageBody(StringUtils.generateMessageId(), orderStr);
        messageHeader = new MessageHeader(CmdType.SYNC_NEW_ORDER, JsonUtils.toJson(msgBody));
        ctx.getChannel().write(messageHeader);
    }

    public static void dispOrderState(MessageHeader messageHeader, ChannelHandlerContext ctx) {
        String orderStr = "{\"hqCode\":\"flipos\",\"kitchenStatus\":\"COMPLETE\",\"payment\":\"CASH\",\"isCanNotGetInvoice\":false,\"passDishReceiptPrintCount\":0,\"clearTableRemark\":\"\",\"discount\":\"1\",\"onCreditDiscountPrice\":\"0\",\"status\":\"COMPLETE\",\"lockOrderNo\":false,\"lastRemindTime\":\"\",\"consumerNum\":1,\"_viewItemStatusCount\":[],\"location\":\"RESTAURANT\",\"isPrinted\":false,\"_viewFinalPrice\":0,\"voucherPrice\":\"0\",\"count\":\"2\",\"addTime\":\"2020-03-30 17:44:29\",\"seq\":\"6240001\",\"upload\":\"SUCCESS\",\"lockOrderDish\":false,\"additionalFee\":\"0\",\"_benefitExceptGift\":\"0\",\"salutation\":{\"hqId\":-1,\"name\":\"\",\"id\":-1},\"vipPoint\":\"0\",\"_discountablePrice\":\"0\",\"additionalFeeType\":\"Amount\",\"kitchenReceiptPrintCount\":0,\"remark\":\"\",\"platform\":\"IPAD_POS\",\"operationFlowNo\":\"\",\"_unDiscountablePrice\":\"0\",\"customerReceiptPrintCount\":0,\"childOrders\":[],\"deliverTime\":\"\",\"completeItemsCount\":0,\"_originalPrice\":\"0\",\"itemsTotalBenefitPrice\":\"0\",\"orderNo\":\"019979220033017442934156240001\",\"smallChange\":\"0\",\"discountPrice\":\"0\",\"hqId\":199,\"grade\":\"1007\",\"paySuccessTime\":\"\",\"additionalFeeAmount\":\"0\",\"items\":[{\"chargingThreshold\":0,\"isHalf\":false,\"orderVoucherAmount\":\"0\",\"categoryId\":-101,\"wholeDiscountable\":true,\"isSetItem\":false,\"orderVipPointAmount\":\"0\",\"setPrice\":\"0\",\"percentAmount\":\"2\",\"displaySets\":[],\"dish\":{\"imgPath\":\"default\",\"desc\":\"\",\"discountInWhole\":true,\"hidden\":false,\"chargingThreshold\":0,\"recommend\":false,\"id\":486361,\"chargingThresholdUnit\":\"\",\"soldRules\":[],\"name\":\"DOU1\",\"price\":\"10\",\"interName\":\"\",\"collect\":false,\"pinyin\":\"D\",\"code\":\"\",\"labels\":[],\"priceType\":\"STEADY\",\"chargingByTime\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"interNames\":[],\"bgColor\":16759296,\"show\":true,\"kdsName\":\"\",\"shortName\":\"\",\"displayGroupId\":-1,\"soldOut\":false},\"failKitchenInfo\":[],\"discounts\":[{\"productFlag\":0,\"specNotFree\":false,\"productList\":[],\"validateTime\":\"2020-03-23 00:00:00.000\",\"name\":\"没别的意思\",\"isTmp\":false,\"desc\":\"\",\"discountRange\":\"BOTH\",\"type\":\"PERCENT\",\"bgColor\":16759296,\"products\":[],\"branchFlag\":0,\"cost\":\"0\",\"branchList\":[],\"category\":\"NORMAL\",\"isGiftCardCoupon\":false,\"id\":4224,\"val\":\"0.9\",\"invalidateTime\":\"2020-03-31 23:59:59.000\",\"favorNotFree\":false,\"code\":\"\",\"remark\":\"\",\"isRepeated\":false,\"optionList\":[]}],\"giftCouponCode\":\"\",\"callUpTime\":0,\"convertAmount\":\"0\",\"dishGroupName\":\"\",\"chargingThresholdUnit\":\"\",\"count\":\"1\",\"name\":\"DOU1\",\"isInPromotion\":false,\"convertCount\":0,\"setDefaultItem\":false,\"singlePrice\":\"20\",\"percentVal\":\"0.9\",\"chargingByTime\":false,\"refundRemark\":\"\",\"refundCount\":\"0\",\"dishId\":486361,\"options\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"remark\":\"\",\"id\":-1,\"floatingPrice\":\"10\",\"amount\":\"1\",\"smallchange\":\"0\",\"orderPercentAmount\":\"0\",\"gift\":\"NO_GIFT\",\"voucherAmount\":\"0\",\"orderVipLevelDiscountAmount\":\"0\",\"purpose\":\"ORDER_MEAL\",\"price\":\"10\",\"uuid\":\"019979203301744192846240000000027\",\"isChild\":false,\"priceType\":\"STEADY\",\"addTime\":\"2020-03-30 17:44:19\",\"displayGroupId\":-1,\"discountInWhole\":true,\"voucherVal\":\"0\",\"displayOptions\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"countByTime\":\"1\"},{\"voucherVal\":\"0\",\"isSetItem\":false,\"id\":-1,\"refundCount\":\"0\",\"dishId\":38427,\"setPrice\":\"0\",\"amount\":\"1\",\"priceType\":\"STEADY\",\"isInPromotion\":false,\"chargingThreshold\":0,\"purpose\":\"ORDER_MEAL\",\"displayOptions\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}],\"count\":\"1\",\"wholeDiscountable\":false,\"orderPercentAmount\":\"0\",\"addTime\":\"2020-03-30 17:44:23\",\"giftCouponCode\":\"\",\"remark\":\"\",\"smallchange\":\"0\",\"isChild\":false,\"floatingPrice\":\"240\",\"chargingByTime\":false,\"name\":\"半筋半肉面\",\"uuid\":\"019979203301744231256240000000028\",\"voucherAmount\":\"0\",\"orderVipPointAmount\":\"0\",\"displaySets\":[],\"price\":\"240\",\"displayGroupId\":468,\"failKitchenInfo\":[],\"singlePrice\":\"251\",\"setDefaultItem\":false,\"chargingThresholdUnit\":\"\",\"discountInWhole\":false,\"refundRemark\":\"\",\"convertAmount\":\"0\",\"dish\":{\"interName\":\"\",\"recommend\":false,\"id\":38427,\"discountInWhole\":false,\"price\":\"240\",\"chargingThresholdUnit\":\"\",\"interNames\":[],\"priceType\":\"STEADY\",\"hidden\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"pinyin\":\"bjbrm\",\"show\":true,\"bgColor\":16759296,\"shortName\":\"\",\"collect\":false,\"soldRules\":[],\"displayGroupId\":468,\"chargingThreshold\":0,\"chargingByTime\":false,\"kdsName\":\"\",\"code\":\"\",\"soldOut\":false,\"name\":\"半筋半肉面\",\"desc\":\"\",\"imgPath\":\"default\",\"labels\":[]},\"orderVipLevelDiscountAmount\":\"0\",\"dishGroupName\":\"\",\"callUpTime\":0,\"convertCount\":0,\"orderVoucherAmount\":\"0\",\"percentVal\":\"1\",\"discounts\":[],\"countByTime\":\"1\",\"isHalf\":false,\"gift\":\"NO_GIFT\",\"categoryId\":-101,\"percentAmount\":\"0\",\"options\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}]}],\"simplePrintMode\":false,\"id\":1,\"updateTime\":\"2020-03-30 17:44:29\",\"tableKey\":\"\",\"orderOperations\":[],\"waitCallNo\":\"\",\"vipPointPrice\":\"0\",\"branchId\":792,\"userName\":\"\",\"isGift\":\"NO_GIFT\",\"rootOrderNo\":\"019979220033017442934156240001\",\"pay5iComplete\":false,\"unHandleMsg\":\"\",\"consumeAuthCode\":\"\",\"kitchenDeviceName\":\"2c:fd:ab:14:8c:ec\\/\",\"hasChildren\":false,\"vouchers\":\"0\",\"payInfos\":[{\"flow\":\"79220033017442933656240001\",\"onCreditAmount\":0,\"chargeAmount\":\"0\",\"payment\":\"CASH\",\"payAmount\":\"269\",\"status\":\"SUCCESS\",\"receivedAmount\":\"269\"}],\"lastName\":\"\",\"_viewItemCount\":0,\"version\":\"5.0.0\",\"payKey\":\"\",\"orderSourceType\":\"STORE\",\"needOpenTable\":false,\"rootable\":true,\"levelDiscountPrice\":\"0\",\"_giftAmount\":\"0\",\"gradeVersion\":0,\"sync\":\"UNNEED\",\"userId\":3861,\"discounts\":[],\"scene\":\"PREPAY\"}";
        MessageBody msgBody = new MessageBody(StringUtils.generateMessageId(), orderStr);
        messageHeader = new MessageHeader(CmdType.SYNC_ORDER_STATE, JsonUtils.toJson(msgBody));
        ctx.getChannel().write(messageHeader);
    }

    public static void dispRefundOrder(MessageHeader messageHeader, ChannelHandlerContext ctx) {
        String orderStr = "{\"hqCode\":\"flipos\",\"kitchenStatus\":\"COMPLETE\",\"payment\":\"CASH\",\"isCanNotGetInvoice\":false,\"passDishReceiptPrintCount\":0,\"clearTableRemark\":\"\",\"discount\":\"1\",\"onCreditDiscountPrice\":\"0\",\"status\":\"COMPLETE\",\"lockOrderNo\":false,\"lastRemindTime\":\"\",\"consumerNum\":1,\"_viewItemStatusCount\":[],\"location\":\"RESTAURANT\",\"isPrinted\":false,\"_viewFinalPrice\":0,\"voucherPrice\":\"0\",\"count\":\"2\",\"addTime\":\"2020-03-30 17:44:29\",\"seq\":\"6240001\",\"upload\":\"SUCCESS\",\"lockOrderDish\":false,\"additionalFee\":\"0\",\"_benefitExceptGift\":\"0\",\"salutation\":{\"hqId\":-1,\"name\":\"\",\"id\":-1},\"vipPoint\":\"0\",\"_discountablePrice\":\"0\",\"additionalFeeType\":\"Amount\",\"kitchenReceiptPrintCount\":0,\"remark\":\"\",\"platform\":\"IPAD_POS\",\"operationFlowNo\":\"\",\"_unDiscountablePrice\":\"0\",\"customerReceiptPrintCount\":0,\"childOrders\":[],\"deliverTime\":\"\",\"completeItemsCount\":0,\"_originalPrice\":\"0\",\"itemsTotalBenefitPrice\":\"0\",\"orderNo\":\"019979220033017442934156240001\",\"smallChange\":\"0\",\"discountPrice\":\"0\",\"hqId\":199,\"grade\":\"1007\",\"paySuccessTime\":\"\",\"additionalFeeAmount\":\"0\",\"items\":[{\"chargingThreshold\":0,\"isHalf\":false,\"orderVoucherAmount\":\"0\",\"categoryId\":-101,\"wholeDiscountable\":true,\"isSetItem\":false,\"orderVipPointAmount\":\"0\",\"setPrice\":\"0\",\"percentAmount\":\"2\",\"displaySets\":[],\"dish\":{\"imgPath\":\"default\",\"desc\":\"\",\"discountInWhole\":true,\"hidden\":false,\"chargingThreshold\":0,\"recommend\":false,\"id\":486361,\"chargingThresholdUnit\":\"\",\"soldRules\":[],\"name\":\"DOU1\",\"price\":\"10\",\"interName\":\"\",\"collect\":false,\"pinyin\":\"D\",\"code\":\"\",\"labels\":[],\"priceType\":\"STEADY\",\"chargingByTime\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"interNames\":[],\"bgColor\":16759296,\"show\":true,\"kdsName\":\"\",\"shortName\":\"\",\"displayGroupId\":-1,\"soldOut\":false},\"failKitchenInfo\":[],\"discounts\":[{\"productFlag\":0,\"specNotFree\":false,\"productList\":[],\"validateTime\":\"2020-03-23 00:00:00.000\",\"name\":\"没别的意思\",\"isTmp\":false,\"desc\":\"\",\"discountRange\":\"BOTH\",\"type\":\"PERCENT\",\"bgColor\":16759296,\"products\":[],\"branchFlag\":0,\"cost\":\"0\",\"branchList\":[],\"category\":\"NORMAL\",\"isGiftCardCoupon\":false,\"id\":4224,\"val\":\"0.9\",\"invalidateTime\":\"2020-03-31 23:59:59.000\",\"favorNotFree\":false,\"code\":\"\",\"remark\":\"\",\"isRepeated\":false,\"optionList\":[]}],\"giftCouponCode\":\"\",\"callUpTime\":0,\"convertAmount\":\"0\",\"dishGroupName\":\"\",\"chargingThresholdUnit\":\"\",\"count\":\"1\",\"name\":\"DOU1\",\"isInPromotion\":false,\"convertCount\":0,\"setDefaultItem\":false,\"singlePrice\":\"20\",\"percentVal\":\"0.9\",\"chargingByTime\":false,\"refundRemark\":\"\",\"refundCount\":\"0\",\"dishId\":486361,\"options\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"remark\":\"\",\"id\":-1,\"floatingPrice\":\"10\",\"amount\":\"1\",\"smallchange\":\"0\",\"orderPercentAmount\":\"0\",\"gift\":\"NO_GIFT\",\"voucherAmount\":\"0\",\"orderVipLevelDiscountAmount\":\"0\",\"purpose\":\"ORDER_MEAL\",\"price\":\"10\",\"uuid\":\"019979203301744192846240000000027\",\"isChild\":false,\"priceType\":\"STEADY\",\"addTime\":\"2020-03-30 17:44:19\",\"displayGroupId\":-1,\"discountInWhole\":true,\"voucherVal\":\"0\",\"displayOptions\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"countByTime\":\"1\"},{\"voucherVal\":\"0\",\"isSetItem\":false,\"id\":-1,\"refundCount\":\"0\",\"dishId\":38427,\"setPrice\":\"0\",\"amount\":\"1\",\"priceType\":\"STEADY\",\"isInPromotion\":false,\"chargingThreshold\":0,\"purpose\":\"ORDER_MEAL\",\"displayOptions\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}],\"count\":\"1\",\"wholeDiscountable\":false,\"orderPercentAmount\":\"0\",\"addTime\":\"2020-03-30 17:44:23\",\"giftCouponCode\":\"\",\"remark\":\"\",\"smallchange\":\"0\",\"isChild\":false,\"floatingPrice\":\"240\",\"chargingByTime\":false,\"name\":\"半筋半肉面\",\"uuid\":\"019979203301744231256240000000028\",\"voucherAmount\":\"0\",\"orderVipPointAmount\":\"0\",\"displaySets\":[],\"price\":\"240\",\"displayGroupId\":468,\"failKitchenInfo\":[],\"singlePrice\":\"251\",\"setDefaultItem\":false,\"chargingThresholdUnit\":\"\",\"discountInWhole\":false,\"refundRemark\":\"\",\"convertAmount\":\"0\",\"dish\":{\"interName\":\"\",\"recommend\":false,\"id\":38427,\"discountInWhole\":false,\"price\":\"240\",\"chargingThresholdUnit\":\"\",\"interNames\":[],\"priceType\":\"STEADY\",\"hidden\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"pinyin\":\"bjbrm\",\"show\":true,\"bgColor\":16759296,\"shortName\":\"\",\"collect\":false,\"soldRules\":[],\"displayGroupId\":468,\"chargingThreshold\":0,\"chargingByTime\":false,\"kdsName\":\"\",\"code\":\"\",\"soldOut\":false,\"name\":\"半筋半肉面\",\"desc\":\"\",\"imgPath\":\"default\",\"labels\":[]},\"orderVipLevelDiscountAmount\":\"0\",\"dishGroupName\":\"\",\"callUpTime\":0,\"convertCount\":0,\"orderVoucherAmount\":\"0\",\"percentVal\":\"1\",\"discounts\":[],\"countByTime\":\"1\",\"isHalf\":false,\"gift\":\"NO_GIFT\",\"categoryId\":-101,\"percentAmount\":\"0\",\"options\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}]}],\"simplePrintMode\":false,\"id\":1,\"updateTime\":\"2020-03-30 17:44:29\",\"tableKey\":\"\",\"orderOperations\":[],\"waitCallNo\":\"\",\"vipPointPrice\":\"0\",\"branchId\":792,\"userName\":\"\",\"isGift\":\"NO_GIFT\",\"rootOrderNo\":\"019979220033017442934156240001\",\"pay5iComplete\":false,\"unHandleMsg\":\"\",\"consumeAuthCode\":\"\",\"kitchenDeviceName\":\"2c:fd:ab:14:8c:ec\\/\",\"hasChildren\":false,\"vouchers\":\"0\",\"payInfos\":[{\"flow\":\"79220033017442933656240001\",\"onCreditAmount\":0,\"chargeAmount\":\"0\",\"payment\":\"CASH\",\"payAmount\":\"269\",\"status\":\"SUCCESS\",\"receivedAmount\":\"269\"}],\"lastName\":\"\",\"_viewItemCount\":0,\"version\":\"5.0.0\",\"payKey\":\"\",\"orderSourceType\":\"STORE\",\"needOpenTable\":false,\"rootable\":true,\"levelDiscountPrice\":\"0\",\"_giftAmount\":\"0\",\"gradeVersion\":0,\"sync\":\"UNNEED\",\"userId\":3861,\"discounts\":[],\"scene\":\"PREPAY\"}";
        MessageBody msgBody = new MessageBody(StringUtils.generateMessageId(), orderStr);
        messageHeader = new MessageHeader(CmdType.SYNC_REFUND_ORDER, JsonUtils.toJson(msgBody));
        ctx.getChannel().write(messageHeader);
    }

    public static void syncOrderAck(MessageHeader messageHeader) {
        
    }

    public static void dispNewOrder(MessageHeader messageHeader, ChannelHandlerContext ctx) {
        String orderStr = "{\"hqCode\":\"flipos\",\"kitchenStatus\":\"COMPLETE\",\"payment\":\"CASH\",\"isCanNotGetInvoice\":false,\"passDishReceiptPrintCount\":0,\"clearTableRemark\":\"\",\"discount\":\"1\",\"onCreditDiscountPrice\":\"0\",\"status\":\"COMPLETE\",\"lockOrderNo\":false,\"lastRemindTime\":\"\",\"consumerNum\":1,\"_viewItemStatusCount\":[],\"location\":\"RESTAURANT\",\"isPrinted\":false,\"_viewFinalPrice\":0,\"voucherPrice\":\"0\",\"count\":\"2\",\"addTime\":\"2020-03-30 17:44:29\",\"seq\":\"6240001\",\"upload\":\"SUCCESS\",\"lockOrderDish\":false,\"additionalFee\":\"0\",\"_benefitExceptGift\":\"0\",\"salutation\":{\"hqId\":-1,\"name\":\"\",\"id\":-1},\"vipPoint\":\"0\",\"_discountablePrice\":\"0\",\"additionalFeeType\":\"Amount\",\"kitchenReceiptPrintCount\":0,\"remark\":\"\",\"platform\":\"IPAD_POS\",\"operationFlowNo\":\"\",\"_unDiscountablePrice\":\"0\",\"customerReceiptPrintCount\":0,\"childOrders\":[],\"deliverTime\":\"\",\"completeItemsCount\":0,\"_originalPrice\":\"0\",\"itemsTotalBenefitPrice\":\"0\",\"orderNo\":\"019979220033017442934156240001\",\"smallChange\":\"0\",\"discountPrice\":\"0\",\"hqId\":199,\"grade\":\"1007\",\"paySuccessTime\":\"\",\"additionalFeeAmount\":\"0\",\"items\":[{\"chargingThreshold\":0,\"isHalf\":false,\"orderVoucherAmount\":\"0\",\"categoryId\":-101,\"wholeDiscountable\":true,\"isSetItem\":false,\"orderVipPointAmount\":\"0\",\"setPrice\":\"0\",\"percentAmount\":\"2\",\"displaySets\":[],\"dish\":{\"imgPath\":\"default\",\"desc\":\"\",\"discountInWhole\":true,\"hidden\":false,\"chargingThreshold\":0,\"recommend\":false,\"id\":486361,\"chargingThresholdUnit\":\"\",\"soldRules\":[],\"name\":\"DOU1\",\"price\":\"10\",\"interName\":\"\",\"collect\":false,\"pinyin\":\"D\",\"code\":\"\",\"labels\":[],\"priceType\":\"STEADY\",\"chargingByTime\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"interNames\":[],\"bgColor\":16759296,\"show\":true,\"kdsName\":\"\",\"shortName\":\"\",\"displayGroupId\":-1,\"soldOut\":false},\"failKitchenInfo\":[],\"discounts\":[{\"productFlag\":0,\"specNotFree\":false,\"productList\":[],\"validateTime\":\"2020-03-23 00:00:00.000\",\"name\":\"没别的意思\",\"isTmp\":false,\"desc\":\"\",\"discountRange\":\"BOTH\",\"type\":\"PERCENT\",\"bgColor\":16759296,\"products\":[],\"branchFlag\":0,\"cost\":\"0\",\"branchList\":[],\"category\":\"NORMAL\",\"isGiftCardCoupon\":false,\"id\":4224,\"val\":\"0.9\",\"invalidateTime\":\"2020-03-31 23:59:59.000\",\"favorNotFree\":false,\"code\":\"\",\"remark\":\"\",\"isRepeated\":false,\"optionList\":[]}],\"giftCouponCode\":\"\",\"callUpTime\":0,\"convertAmount\":\"0\",\"dishGroupName\":\"\",\"chargingThresholdUnit\":\"\",\"count\":\"1\",\"name\":\"DOU1\",\"isInPromotion\":false,\"convertCount\":0,\"setDefaultItem\":false,\"singlePrice\":\"20\",\"percentVal\":\"0.9\",\"chargingByTime\":false,\"refundRemark\":\"\",\"refundCount\":\"0\",\"dishId\":486361,\"options\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"remark\":\"\",\"id\":-1,\"floatingPrice\":\"10\",\"amount\":\"1\",\"smallchange\":\"0\",\"orderPercentAmount\":\"0\",\"gift\":\"NO_GIFT\",\"voucherAmount\":\"0\",\"orderVipLevelDiscountAmount\":\"0\",\"purpose\":\"ORDER_MEAL\",\"price\":\"10\",\"uuid\":\"019979203301744192846240000000027\",\"isChild\":false,\"priceType\":\"STEADY\",\"addTime\":\"2020-03-30 17:44:19\",\"displayGroupId\":-1,\"discountInWhole\":true,\"voucherVal\":\"0\",\"displayOptions\":[{\"name\":\"特大杯\",\"defaultVal\":false,\"interName\":\"\",\"multiple\":false,\"sortId\":2,\"id\":5096,\"count\":\"1\",\"groupId\":1723,\"price\":\"10\"}],\"countByTime\":\"1\"},{\"voucherVal\":\"0\",\"isSetItem\":false,\"id\":-1,\"refundCount\":\"0\",\"dishId\":38427,\"setPrice\":\"0\",\"amount\":\"1\",\"priceType\":\"STEADY\",\"isInPromotion\":false,\"chargingThreshold\":0,\"purpose\":\"ORDER_MEAL\",\"displayOptions\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}],\"count\":\"1\",\"wholeDiscountable\":false,\"orderPercentAmount\":\"0\",\"addTime\":\"2020-03-30 17:44:23\",\"giftCouponCode\":\"\",\"remark\":\"\",\"smallchange\":\"0\",\"isChild\":false,\"floatingPrice\":\"240\",\"chargingByTime\":false,\"name\":\"半筋半肉面\",\"uuid\":\"019979203301744231256240000000028\",\"voucherAmount\":\"0\",\"orderVipPointAmount\":\"0\",\"displaySets\":[],\"price\":\"240\",\"displayGroupId\":468,\"failKitchenInfo\":[],\"singlePrice\":\"251\",\"setDefaultItem\":false,\"chargingThresholdUnit\":\"\",\"discountInWhole\":false,\"refundRemark\":\"\",\"convertAmount\":\"0\",\"dish\":{\"interName\":\"\",\"recommend\":false,\"id\":38427,\"discountInWhole\":false,\"price\":\"240\",\"chargingThresholdUnit\":\"\",\"interNames\":[],\"priceType\":\"STEADY\",\"hidden\":false,\"interDesc\":\"\",\"productType\":\"NORMAL\",\"pinyin\":\"bjbrm\",\"show\":true,\"bgColor\":16759296,\"shortName\":\"\",\"collect\":false,\"soldRules\":[],\"displayGroupId\":468,\"chargingThreshold\":0,\"chargingByTime\":false,\"kdsName\":\"\",\"code\":\"\",\"soldOut\":false,\"name\":\"半筋半肉面\",\"desc\":\"\",\"imgPath\":\"default\",\"labels\":[]},\"orderVipLevelDiscountAmount\":\"0\",\"dishGroupName\":\"\",\"callUpTime\":0,\"convertCount\":0,\"orderVoucherAmount\":\"0\",\"percentVal\":\"1\",\"discounts\":[],\"countByTime\":\"1\",\"isHalf\":false,\"gift\":\"NO_GIFT\",\"categoryId\":-101,\"percentAmount\":\"0\",\"options\":[{\"count\":\"1\",\"sortId\":1,\"defaultVal\":false,\"multiple\":false,\"price\":\"0\",\"id\":14345,\"groupId\":3935,\"interName\":\"\",\"name\":\"双面煎\"},{\"id\":660,\"multiple\":false,\"defaultVal\":true,\"sortId\":0,\"price\":\"5\",\"count\":\"1\",\"interName\":\"Heavy spicy\",\"groupId\":426,\"name\":\"重辣\"},{\"multiple\":false,\"id\":8931,\"name\":\"软一点\",\"count\":\"1\",\"sortId\":1,\"groupId\":2674,\"price\":\"6\",\"defaultVal\":true,\"interName\":\"\"}]}],\"simplePrintMode\":false,\"id\":1,\"updateTime\":\"2020-03-30 17:44:29\",\"tableKey\":\"\",\"orderOperations\":[],\"waitCallNo\":\"\",\"vipPointPrice\":\"0\",\"branchId\":792,\"userName\":\"\",\"isGift\":\"NO_GIFT\",\"rootOrderNo\":\"019979220033017442934156240001\",\"pay5iComplete\":false,\"unHandleMsg\":\"\",\"consumeAuthCode\":\"\",\"kitchenDeviceName\":\"2c:fd:ab:14:8c:ec\\/\",\"hasChildren\":false,\"vouchers\":\"0\",\"payInfos\":[{\"flow\":\"79220033017442933656240001\",\"onCreditAmount\":0,\"chargeAmount\":\"0\",\"payment\":\"CASH\",\"payAmount\":\"269\",\"status\":\"SUCCESS\",\"receivedAmount\":\"269\"}],\"lastName\":\"\",\"_viewItemCount\":0,\"version\":\"5.0.0\",\"payKey\":\"\",\"orderSourceType\":\"STORE\",\"needOpenTable\":false,\"rootable\":true,\"levelDiscountPrice\":\"0\",\"_giftAmount\":\"0\",\"gradeVersion\":0,\"sync\":\"UNNEED\",\"userId\":3861,\"discounts\":[],\"scene\":\"PREPAY\"}";
        MessageBody msgBody = new MessageBody(StringUtils.generateMessageId(), orderStr);
        messageHeader = new MessageHeader(CmdType.SYNC_NEW_ORDER, JsonUtils.toJson(msgBody));
        ctx.getChannel().write(messageHeader);
    }

    public static void refConnect(MessageHeader messageHeader, ChannelHandlerContext ctx) {
    }
}
